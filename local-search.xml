<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Teamspeak3服务端简易部署</title>
    <link href="/2022/06/24/TeamSpeak%203%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%AE%80%E6%98%93%E9%83%A8%E7%BD%B2/"/>
    <url>/2022/06/24/TeamSpeak%203%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%AE%80%E6%98%93%E9%83%A8%E7%BD%B2/</url>
    
    <content type="html"><![CDATA[<p>最近腾讯云618活动，入手了一台轻量应用服务器，新人首单价格还行，配置如图。</p><p><img src="https://s3.bmp.ovh/imgs/2022/06/24/5380d996a801d111.png"></p><p>参与买赠活动有两个福利可以选择其中一个：1.使用一个4C8G的服务器一个月 2.续费你的订单服务器一个月。我选择了后者，我觉得只是试用的话那还是算了，不如续杯。</p><p>正好拿来与小伙伴测试下传说的职业哥用的交流软件Teamspeak3，个人的部署流程如下</p><h3 id="一、环境准备"><a href="#一、环境准备" class="headerlink" title="一、环境准备"></a>一、环境准备</h3><p>1、ECS云服务器一台，我的系统是Ubuntu Server 20.04 LTS 64bit，其它大同小异</p><p>2、Teamspeak官网下载对应的服务端文件：<a href="https://www.teamspeak.com/en/downloads/#server">https://www.teamspeak.com/en/downloads/#server</a></p><p>Teamspeak客户端：<a href="https://www.teamspeak.com/en/downloads/#client">https://www.teamspeak.com/en/downloads/#client</a> (需自行汉化)</p><p>Teamspeak汉化客户端(盗版)：<a href="http://www.ts1.cn/download">http://www.ts1.cn/download</a></p><p>3、Xshell，Xftp或者其它命令行工具以及FTP工具</p><h3 id="二、部署服务端"><a href="#二、部署服务端" class="headerlink" title="二、部署服务端"></a>二、部署服务端</h3><p>将上步 2 中得到的服务端压缩包解压缩后用Xftp直接上传你的服务器目录，文件夹我命名为teamspeak3，方便命令行检索。</p><p>(个人习惯用root账户以及root根目录，虽然很多地方都强调建议用普通用户运行，可能是我还没吃到亏2333)</p><p><img src="https://s3.bmp.ovh/imgs/2022/06/24/8fa36299d6d57ca0.png"></p><p>在终端中进入该文件夹，给予sh脚本运行权限</p><pre><code class="hljs">chmod 777 ts3server_startscript.sh</code></pre><p>启动服务之前，你还需要同意一份用户协议，我们直接执行该指令</p><pre><code class="hljs">touch .ts3server_license_accepted</code></pre><p>启动服务，这一步我直接用root用户运行了，尽管它会发出警告。建议懂得用户权限系统的运行在普通用户下即可，我是弄不明白。</p><pre><code class="hljs">./ts3server_startscript.sh start</code></pre><p>接着会给你登录账号和密码，以及一枚权限密钥token，这个密钥是最重要的请保存下来，一会登录服务器要用。</p><p>有且只能使用一次来确定服务器管理员身份。后续有需要的话请使用客户端生成新的密钥，以防更换电脑带来的权限丢失。</p><h3 id="三、放行端口"><a href="#三、放行端口" class="headerlink" title="三、放行端口"></a>三、放行端口</h3><p>记得在服务商或者终端放行服务需要的端口，ts3需要的端口是</p><blockquote><p>UDP: 9987</p><p>TCP: 10011</p><p>TCP: 30033</p></blockquote><p>到这一步，服务端的部署基本就完成了，此时ts3就可以连上你的私人语言频道了，在客户端左上角连接里填入你的服务器ip或者域名(多一步解析)以及上一步中终端给你的信息即可。快和小伙伴畅享高质量，无延迟的语言交流吧。</p><p><img src="https://s3.bmp.ovh/imgs/2022/06/24/747808fadc3cc5d2.png"></p><h3 id="四、设置开机自启"><a href="#四、设置开机自启" class="headerlink" title="四、设置开机自启"></a>四、设置开机自启</h3><p>服务运行后，是没有开机自启的。如果遇到平时重启，主机崩溃之类的还要手动运行较麻烦。可以相应设置一个开机自启的脚本，灵活应对重启状况。</p><p>第一步，切换到root用户下，用su指令即可</p><p>第二步，在系统服务文件下新建一个ts3.service文件</p><pre><code class="hljs">vim /lib/systemd/system/ts3.service</code></pre><p>第三步，进入插入模式，向文本添加以下内容。注意所有涉及路径的地方请根据个人情况自行修改，否则将无法运行。</p><pre><code class="hljs">[Unit]Description=Teamspeak serverAfter=network.target[Service]WorkingDirectory=/root/teamspeak3User=teamspeakGroup=teamspeakType=forkingExecStart=/root/teamspeak3/ts3server_startscript.sh startInifile=ts3server.iniExecStop=/root/teamspeak3/ts3server_startscript.sh stopPIDFile=/root/teamspeak3/ts3server.pidRestartSec=15Restart=always[Install]WantedBy=multi-user.targetsystemctl start ts3systemctl enable ts3</code></pre><p>第四步，重新加载服务配置文件，使新服务的服务程序配置文件生效</p><pre><code class="hljs">systemctl daemon-reload</code></pre><p>第五步，设置开启服务自启动即可，此时teamspeak已经在运行了</p><pre><code class="hljs">systemctl enable teamspeak.service</code></pre><p>附上三条启停的指令</p><p>1.启动 TeamSpeak：</p><pre><code class="hljs">systemctl start teamspeak.service</code></pre><p>2.停止 TeamSpeak：</p><pre><code class="hljs">systemctl stop teamspeak.service</code></pre><p>3.重启 TeamSpeak：</p><pre><code class="hljs">systemctl restart teamspeak.service</code></pre><h3 id="五、总结"><a href="#五、总结" class="headerlink" title="五、总结"></a>五、总结</h3><p>个人觉得还是比yy好用不少的，主要体现在以下几点：更少的资源暂用，语音感应激活（更少收录队友杂音），启动速度更快，无开屏弹窗广告纵享丝滑。</p><p>当然如果你单纯只为了架ts3而购买服务器是大可不必的，和小伙伴一顿使用下来没浪费多少多少服务器资源，静置状态只有2%的内存占用，相当于40M？？可以说真的很轻量了。</p>]]></content>
    
    
    
    <tags>
      
      <tag>亿点心得</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>呃呃</title>
    <link href="/2021/12/16/%E5%91%83%E5%91%83/"/>
    <url>/2021/12/16/%E5%91%83%E5%91%83/</url>
    
    <content type="html"><![CDATA[<p>昨天吃了海底捞。两个人334，加上100一张的200元代金券，实付234.</p><p>我焯，挺辣的嗷</p><p>搞得今天皮燕子都有点辣。还以为是痔疮。</p>]]></content>
    
    
    
    <tags>
      
      <tag>小食谈记</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
